#------------------------
#
# My first CI/CD pipeline
#
#------------------------

name: test-prep-actions
env:
  APPLICATION_NAME: "My repo deploy app"
  DEPLOY_PACKAGE_NAME    : "Repo package file = ${{github.sha}}"

on:
  push:
    branches:
      - master

jobs:
  my_testing:
    runs-on: ubuntu-latest

    steps:
      - name: Pring Hello message
        run: echo "Hello world from testing job"
        
      - name: Execute few commands
        run: |
          echo "Hello message 1"
          echo "Hello message 2"
          echo "Hello message 3"
          echo "Application name is: ${{env.APPLICATION_NAME}}"

  
  my_deploy:
    runs-on: [ubuntu-latest]
    needs: [my_testing]
    steps:
      - name: Pring Hello message
        run: echo "Hello world from deploy job"
        
      - name: Printing deployment package
        run: echo "Deployment package is ${{env.DEPLOY_PACKAGE_NAME}}"
        
  
    
